function NewColorLength(n){n.length<5?(document.getElementById("AddConfirmColorButton").setAttribute("disabled",!0),document.getElementById("NewColorLength").classList.remove("invisible")):($("#AddConfirmColorButton").removeAttr("disabled"),document.getElementById("NewColorLength").classList.add("invisible"))}function SendAddPlasticColorRequest(n){$.ajax({url:"/Cubes/AddCubePlasticColor",contentType:"application/json",type:"POST",data:JSON.stringify(n),complete:function(n){HandlleAddColorData(JSON.parse(n.responseText),n)}})}function HandlleAddColorData(n,t){n.isFaulted?DisplayMessages(t):($("#PlasticColorTableAmount").val()=="0"&&$("#ColorTableBody").empty(),AddColorTableRow(n.jsonData,"PlasticColorTable"))}function DeleteColor(n){$("#ColorToDelete").text(n);$("#DeleteColorModal").modal("show")}function SendDeletePlasticColorRequest(n){$.ajax({url:"/Cubes/DeleteCubePlasticColor",contentType:"application/json",type:"POST",data:JSON.stringify(n),complete:function(n){HandlleDeleteColorData(JSON.parse(n.responseText),n)}})}function HandlleDeleteColorData(n,t){if(n.isFaulted)DisplayMessages(t);else if($("#ColorTableBody").empty(),$("#PlasticColorTableAmount").val(0),n.jsonData.length>=1)for(var i=0;i<n.jsonData.length;i++)AddColorTableRow(n.jsonData[i],"PlasticColorTable");else $("#PlasticColorTable").append('<tr><td colspan="3" class="text-center">No colors defined<\/td><\/tr>')}function AddColorTableRow(n,t){$("#PlasticColorTable").append('<tr><td class="align-middle">'+n.name+'<\/td><td><button class="btn btn-sm btn-danger text-white p-1" onclick = "DeleteColor(\''+n.name+"')\" > Delete<\/button ><\/td ><\/tr > ");let i=$("#"+t+" tr").length-1;$("#"+t+"Amount").val(i)}function ValidateManuModel(n,t,i,r,u,f){let e=0,o=0,s=0;return $("#"+n).val().length<1||!/^[a-zA-Z0-9- ]*$/.test($("#"+n).val())?$("#"+t).removeClass("d-none"):($("#"+t).addClass("d-none"),e=1),$("#"+i).val().length<1||!/^[a-zA-Z0-9- ]*$/.test($("#"+i).val())?$("#"+r).removeClass("d-none"):($("#"+r).addClass("d-none"),o=1),$("#"+u).val()<0||$("#"+u).val()>2500||$("#"+u).val().length<1?$("#"+f).removeClass("d-none"):($("#"+f).addClass("d-none"),s=1),e+o+s==3}function SendAddManufacturerRequest(n,t,i){let r={name:n,country:t,year:i};$.ajax({url:"/Cubes/AddManufacturer",contentType:"application/json",type:"POST",data:JSON.stringify(r),complete:function(n){HandleAddManuResponse(JSON.parse(n.responseText),n)}})}function HandleAddManuResponse(n,t){n.isFaulted?DisplayMessages(t):($("#AmountManu").val()=="0"&&$("#ManuTableBody").empty(),AddManuTableRow(n.jsonData))}function AddManuTableRow(n){$("#ManuTable").append('<tr><td class="align-middle">'+n.name+'<\/td><td class="align-middle">'+n.country+'<\/td><td class="align-middle">'+n.foundationYear+'<\/td><td class="align-middle"><button class="btn btn-sm btn-danger text-white" onclick="DeleteManuOpenModal(\''+n.name+'\')">Delete<\/button><\/td><td class="align-middle"><button class="btn btn-sm btn-secondary text-white" onclick="ModifyManuModal(\''+n.identity+"', '"+n.name+"', '"+n.country+"', '"+n.foundationYear+"')\">Modify<\/button><\/td><\/tr>");let t=$("#ManuTable tr").length-1;$("#AmountManu").val(t)}function DeleteManuOpenModal(n){$("#ManuToDelete").text(n);$("#DeleteManuModal").modal("show")}function ReconstructManuTable(n,t){if(n.isFaulted)DisplayMessages(t);else if($("#ManuTableBody").empty(),$("#AmountManu").val(0),n.jsonData.length>=1)for(var i=0;i<n.jsonData.length;i++)AddManuTableRow(n.jsonData[i]);else $("#ManuTable").append('<tr><td colspan="5" class="text-center">No manufacturers defined<\/td><\/tr>')}function ModifyManuModal(n,t,i,r){$("#ModManuIdent").val(n);$("#ModifyManuNameH").html(t);$("#ModManuName").val(t);$("#ModManuCountry").val(i);$("#ModManuYear").val(r);$("#ModManuNameAlert").addClass("d-none");$("#ModManuCountryAlert").addClass("d-none");$("#ModManuYearAlert").addClass("d-none");$("#ModifyManuModal").modal("show")}function SendManuUpdateRequest(n){$.ajax({url:"/Cubes/ModifyManufacturer",contentType:"application/json",type:"POST",data:JSON.stringify(n),complete:function(n){ReconstructManuTable(JSON.parse(n.responseText),n)}})}function DeleteCubeButton(n,t){$("#CubeToDelete").val(n);$("#CubeToDeleteName").text(t);$("#DeleteCubeModal").modal("show")}$(document).ready(function(){InitializaPagination()});$("#AddColorButton").click(function(){$("#NewColorInput").val("");document.getElementById("AddConfirmColorButton").setAttribute("disabled",!0);document.getElementById("NewColorLength").classList.add("invisible");$("#AddColorModal").modal("show")});$("#AddConfirmColorButton").click(function(){let n=$("#NewColorInput").val();SendAddPlasticColorRequest(n)});$("#DeleteColorButton").click(function(){$("#DeleteColorModal").modal("hide");SendDeletePlasticColorRequest($("#ColorToDelete").text())});$("#AddManufacturer").click(function(){$("#NewManuName").val("");$("#NewManuNameAlert").addClass("d-none");$("#NewManuCountry").val("");$("#NewManuCountryAlert").addClass("d-none");$("#NewManuYear").val("");$("#NewManuYearAlert").addClass("d-none");$("#AddManuModal").modal("show")});$("#AddManuButton").click(function(){ValidateManuModel("NewManuName","NewManuNameAlert","NewManuCountry","NewManuCountryAlert","NewManuYear","NewManuYearAlert")&&($("#AddManuModal").modal("hide"),SendAddManufacturerRequest($("#NewManuName").val(),$("#NewManuCountry").val(),$("#NewManuYear").val()))});$("#DeleteManuButton").click(function(){$.ajax({url:"/Cubes/DeleteManufacturer",contentType:"application/json",type:"POST",data:JSON.stringify($("#ManuToDelete").text()),complete:function(n){ReconstructManuTable(JSON.parse(n.responseText),n)}})});$("#ModManuButton").click(function(){if(ValidateManuModel("ModManuName","ModManuNameAlert","ModManuCountry","ModManuCountryAlert","ModManuYear","ModManuYearAlert")){$("#ModifyManuModal").modal("hide");let n={identity:$("#ModManuIdent").val(),name:$("#ModManuName").val(),country:$("#ModManuCountry").val(),year:$("#ModManuYear").val()};SendManuUpdateRequest(n)}});$("#DeleteCubeButton").click(function(){let n=$("#CubeToDelete").val();$.post("/Cubes/DeleteCube",{identity:n},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else location.reload()})});