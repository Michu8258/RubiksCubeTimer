function InitializeCategoryChart(n,t,i){window.categoryChart=new Chart(n,GetPieChartConfig(i,t))}function InitializeCubesChart(n,t,i){window.cubeChart=new Chart(n,GetPieChartConfig(i,t))}function InitialDataRequest(){let n=$("#UserID").val();$.get("/User/GetChartsData",{id:n},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else PopulateCharts(n.jsonData)})}function AddDataToPieChart(n,t,i){n.datasets[0].data.push(t);n.datasets[0].backgroundColor.push(chartColors[GetColorIndex(n.datasets[0].data)]);n.labels.push(i)}function PopulateCharts(n){var t;if(n.categoryChartData.length>0)for(t=0;t<n.categoryChartData.length;t++)AddDataToPieChart(categoryChartData,n.categoryChartData[t].amount,n.categoryChartData[t].category.name);if(n.cubeChartData.length>0)for(t=0;t<n.cubeChartData.length;t++)AddDataToPieChart(cubeChartData,n.cubeChartData[t].amount,n.cubeChartData[t].cube.manufacturer.name+" "+n.cubeChartData[t].cube.modelName+" "+n.cubeChartData[t].cube.plasticColor.name);window.categoryChart.update();window.cubeChart.update()}let categoryChartData={datasets:[{data:[],backgroundColor:[],label:"Your favourite categories"}],labels:[]},cubeChartData={datasets:[{data:[],backgroundColor:[],label:"Your favourite cubes"}],labels:[]};$(document).ready(function(){let n={enabled:!0,displayColors:!0,titleFontSize:14,bodyFontSize:14,titleAlign:"center",bodyAlign:"center",bodySpacing:5,callbacks:{label:function(n,t){return t.labels[n.index]," "+t.labels[n.index]+": "+t.datasets[0].data[n.index]+" series"}}};InitializeCategoryChart(document.getElementById("CategoryPie").getContext("2d"),n,categoryChartData);InitializeCubesChart(document.getElementById("CubePie").getContext("2d"),n,cubeChartData);InitialDataRequest()});