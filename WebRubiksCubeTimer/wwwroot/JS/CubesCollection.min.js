function OpenRemoveModal(n,t){$("#CubeIdRemove").val(n);$("#UserIdRemove").val(t);$("#RemoveCubeModal").modal("show")}function OpenRatingModal(n,t,i){$("#CubeIdRate").val(t);$("#UserIdRate").val(n);$("#RatingModalDesc").text(i);$("#AddCubeRatingModal").modal("show")}function SendRatingRequest(n){$("#AddCubeRatingModal").modal("hide");let t=$("#UserIdRate").val(),i=$("#CubeIdRate").val();$.post("/User/AddCubeRatingForUser",{userId:t,cubeId:i,rating:n},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else location.reload()})}function OpenReRatingModal(n,t,i,r){$("#CurrentCubeRate").text(r);$("#RCubeIdRate").val(t);$("#RUserIdRate").val(n);$("#ReratingModalDesc").text(i);$("#ModCubeRatingModal").modal("show")}function SendReRatingRequest(n){$("#ModCubeRatingModal").modal("hide");let t=$("#RUserIdRate").val(),i=$("#RCubeIdRate").val();$.post("/User/ModifyCubeRatingForUser",{userId:t,cubeId:i,newRating:n},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else location.reload()})}function ShowCubeInfo(n){$.get("/User/GetCubeInfo",{cubeId:n},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else PopulateCubeInfoModal(n.jsonData)})}function PopulateCubeInfoModal(n){if($("#InfoManCountry").text(n.manufacturerCountry),$("#InfoManYear").text(n.manufacturerFoundationYear),$("#InfoUsersAmount").text(n.usersUsingThisCube),$("#InfoOptList").empty(),n.permittedCategoryOptions.length>0)for(var t=0;t<n.permittedCategoryOptions.length;t++)$("#InfoOptList").append('<strong class="d-flex">'+n.permittedCategoryOptions[t]+"<\/strong>");$("#CubeInfoModal").modal("show")}function PopulateManufacurers(n){SetDefaultsComboBox("ManufacturerId","No manufacturer selected");SetDefaultsComboBox("CubeId","No cube selected");for(var t=0;t<n.length;t++)$("#ManufacturerId").append('<option value="'+n[t].identity+'">'+n[t].name+"<\/option>");n.length>0&&$("#ManufacturerId").removeAttr("disabled")}function PopulateCubes(n){SetDefaultsComboBox("CubeId","No cube selected");for(var t=0;t<n.length;t++)$("#CubeId").append('<option value="'+n[t].identity+'">'+n[t].modelName+"<\/option>");n.length>0&&$("#CubeId").removeAttr("disabled")}function SetDefaultsComboBox(n,t){$("#"+n).empty();$("#"+n).append("<option selected disabled>"+t+"<\/option>");$("#"+n).prop("selectedIndex",0);$("#"+n).attr("disabled",!0);EnableAddButton()}function EnableAddButton(){$("#CubeId").val()<1?$("#AddCubeToCollection").attr("disabled",!0):$("#AddCubeToCollection").removeAttr("disabled")}$(document).ready(function(){InitializaPagination()});$("#RemoveCubeButton").click(function(){$("#RemoveCubeModal").modal("hide");let n=$("#UserIdRemove").val(),t=$("#CubeIdRemove").val();$.post("/User/RemoveCubeFromCollection",{userId:n,cubeId:t},function(n){if(n.isFaulted){let t={};t.responseText=JSON.stringify(n);DisplayMessages(t)}else location.reload()})});$("#CategoryId").change(function(){$("#ManufacturerId").prop("selectedIndex",0);$("#CubeId").prop("selectedIndex",0);let n=$("#CurrentUserId").val(),t=$("#CategoryId").val();$.get("/User/GetAvailableToAddManufacturers/",{categoryId:t,userId:n},function(n){ResponseCheck(n,PopulateManufacurers)})});$("#ManufacturerId").change(function(){$("#CubeId").prop("selectedIndex",0);let n=$("#CurrentUserId").val(),t=$("#CategoryId").val(),i=$("#ManufacturerId").val();$.get("/User/GetAvailableToAddCubes/",{categoryId:t,manufacturerId:i,userId:n},function(n){ResponseCheck(n,PopulateCubes)})});$("#CubeId").change(function(){EnableAddButton()});$("#AddCubeToCollection").click(function(){let n=$("#CurrentUserId").val(),t=$("#CubeId").val();document.location="/User/AddCubeTouserCollection?userId="+n+"&cubeId="+t});